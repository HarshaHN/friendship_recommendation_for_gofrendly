Plan ahead (for the rest of the thesis):
1. two performance optimization and experiments. For all 120,000 nodes.
   lossfuncs & NN: cosine, pinsage, l2 dist, mrr & hr; architectural changes: weights for individual?; feature intro; (layers, margin, fdim); 
2. one performance optimization and experiments.
    -> (revisit, integration, organise, improvements)
    -> SBERT using GCP API, DNN using Pytorch?, SMOTE, scalar.
$$$ Report study and prep $$$

3. Feature scaling and inclusion.
4. Hybrid model(isolated nodes), experiments. mrr and hr optimize.
5. Cause for low scores: 60% is max cap, chat friends, user filters, not seen.
6. Results analysis, Data viz, report, presentation, thesis formalities.
7. Adaptable to new additions.
8. Collab with erwan for software deployment into production.
40,000 SEK

#========================================================================================
Weekly post : May 18 to 31, 2020 as follows:
Implemented the code for pinsage convolution and minibatch training exactly as the research paper using Pytorch and DGL. Reviewed and tested the code by myself.
Hyper parameters: node emb dim (fdim), layers in one pinsage convolve (fsize), layers, optimizer (opt), learning rate(lr), margin in the loss.
a. First training setup: Training dataset (April 7 snapshot), 5532 Stockholm users, 
positive samples: mutual friends
negative samples: blocked friends
fdim = 20, fsize = 3, layers = 5, opt = 'Adam', lr = 1e-3,  margin = 5.0. 
To begin with unit norm node embeddings were chosen (node features to be chosen), 
Loss func: dot product of negative emb - dot product of positive emb + margin, it reached zero.
Prediction: K nearest neighbors on L2 distance of node embeddings.
Validation set (May 10 snapshot): mutual friends.
MRR and hitrate metrics for K=500 recommendations: 
a. train dataset [0.006, 0.091], b. validation dataset [0.002, 0.089].

b. Second prilim effort to improve: Training dataset (April 7 snapshot), 5532 Stockholm users, 
positive samples: mutual friends, activity friends
negative samples: blocked friends, viewed profile but not mutual friends.

fdim = 20, fsize = 3, layers = 2, opt = 'Adam', lr = 1e-3,  margin = -1.0. 
To begin with unit norm node embeddings were chosen (node features to be chosen), 
Loss func: cosine distance of positive to be 1, and of negative to be -1. Loss reached zero.
Prediction: K nearest neighbors of cosine distance node embeddings.
Validation set (May 10 snapshot): mutual friends.
MRR and hitrate metrics for K=500 recommendations: 
a. train dataset [0.018, 0.078], b. validation dataset [0.001, 0.079].

Now, the paper achieves hitrate = 67% and MRR = 0.59. So, the above ones are not good. I halted further experiments and proceed after discussing with you. Previously, for graph setup random recommendation had yielded: hitrate = 0.104, mrr = 0.004.
Also, worked on code integration, redundancy removal, code consistancy, to organise data. 

Next week targets:
1. organise the code: one.
2. Feature intro

Discussion:
a. features revisit. Inclusion to the node embeddings. As seen, we have categorical and numerical features.  total size: 1024 + 16.
['user_id': int, 'story sbert emb': 1024 float vect, 'iam': {range(0,18)}, 'meetfor': {range(0,18)}, 'birthday':{range(18,100)}, 'marital':{range(-1,3)}, 'children':{range(-1,2)}, 'lat':float, 'lng':float]

b. Experiments: Multiple loss functions are possible such as pinsage, cosine, l2dist, or making it a function of hitrate and mrr?. Model configurations: architectural changes (such as weights for each node?); (layers size, margin, fdim); May be train gnn for all 100,000 users and then offer recommendations specific to the city.

c. How to hybrid dnn-based input: delta of two profiles, output: link prediction, and gnn-based input: node emb, output: K nearest neighbors.

d. Metrics Hitrate and MRR are chosen.

e. What according to you yet to be done for the completion of thesis.


Discussion outcomes:

Schedule:
https://docs.google.com/spreadsheets/d/1WSsdfMQgls2utF1caZfpbZ_TBjNLqueMZsm0EbN2u5Y/edit?usp=sharing

#========================================================================================
#=======================================================================================

Links:
1. translate: google translate all user stories.
Avg story length is 400 ch per user - 36 million users * 20$ per million = 720$
conda install -c conda-forge langdetect
pip install spacy-langdetect
conda install -c conda-forge google-cloud-translate

2. Elastic search: 
https://www.elastic.co/guide/en/elasticsearch/reference/current/getting-started-index.html

http://snap.stanford.edu/proj/embeddings-www/files/
https://web.stanford.edu/class/cs224w/
Data visualization: Neo4j Labs- https://neo4j.com/developer/tools-graph-visualization/

-----------------------------------------------------------------------------------------

8CG9318CQ7 HP Envy x360 convertible M15-dr0002no.
776622077 8 to 7pm HP call centre, 9-13 on saturday.

case num: 5046011351
Activity: 3058139, 857433
your phone: 0851993085 Hp
infocare: +46 104 99 30 00
0776 700303
-----------------------------------------------------------------------------------------

Skype details: connectharsha
Zoom Meeting ID: 805 548 4164
Phone : +46 761556623

-----------------------------------------------------------------------------------------
About life in general:
Born responsibility: make a living, aid and inspire family
Deepest purpose is to build social groups to solve social challenges.
Daily gift to the world: aid and inspire friends.
Attitude: Look ahead, think about good thgs, be a man to get what you need,
Status, appreciation, finance, 

Meet the expectations of your family, close friends. 
Thrive on social media - more love & good vibes!
Be creative and energetic: Gym, sports.
Be entertaining and human relations: Simplistic yet fashionable lifestyle, social games-party & other to-dos.
Swedish, data science: KTH AI, Stockholm AI, medium, github.
Read about global affairs: Read materials from Stockholm Debate Society.
Join leadership positions, 

Next five years:
Investigate the world & issues: Read about global affairs, meet international people and travel.
Understand the issue: Self-assessment.
Open interactions: Discuss and debate. Active on social media.
Action plan: Act locally and take leadership role in a club I personally value.
-----------------------------------------------------------------------------------------

